<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="plone">

  <body>
    <metal:content-title fill-slot="content-title">
      <metal:content-title define-macro="content-title">
      </metal:content-title>
    </metal:content-title>
    <metal:content-description fill-slot="content-description">
      <metal:content-description define-macro="content-description">
      </metal:content-description>
    </metal:content-description>
    <metal:content-core fill-slot="content-core">
      <metal:block define-macro="content-core">
        <metal:block define-macro="tiles-macro">
          <div class="tilesWrapper" i18n:domain="redturtle.tiles.management">
            <div class="actionsTiles"
                 tal:condition="view/canAddTiles">
              <a tal:attributes="href string:${context/absolute_url}/@@add-tile"
                 class="plone-btn plone-btn-primary add-tile-btn">
                <tal:label i18n:translate="add_new_tile_label">Add new tile</tal:label>
              </a>
            </div>
            <div class="tilesList"
                 tal:define="tiles view/get_tiles_list;
                             canEditTiles view/canEditTiles"
                 tal:condition="tiles">
              <tal:tile repeat="tile tiles">
                <div tal:attributes="data-tileid python:canEditTiles and tile.get('tile_id') or '';
                                     data-tiletype python:canEditTiles and tile.get('tile_type') or ''"
                     class="tileWrapper">
                  <div tal:attributes="data-tile python:view.get_tile_url(tile)" />
                </div>
              </tal:tile>
            </div>
          </div>
        </metal:block>
      </metal:block>
    </metal:content-core>
  </body>
</html>
