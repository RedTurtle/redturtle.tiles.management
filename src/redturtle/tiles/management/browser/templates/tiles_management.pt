
<metal:block define-macro="tiles-macro">
  <div tal:attributes="class python:canManageTiles and 'editableTiles tilesWrapper' or 'tilesWrapper'"
       i18n:domain="redturtle.tiles.management"
       tal:condition="python:canManageTiles or tiles"
       tal:define="canManageTiles view/canManageTiles;
                   tiles view/get_tiles_list;">
    <div class="actionsTiles"
         tal:condition="canManageTiles">
      <a tal:attributes="href string:${context/absolute_url}/@@add-tile"
         class="plone-btn plone-btn-primary add-tile-btn">
        <tal:label i18n:translate="add_new_tile_label">Add new tile</tal:label>
      </a>
    </div>
    <div class="tilesList"
         tal:condition="tiles"
         tal:attributes="data-tilesinfo python:view.get_tiles_data(tiles)">
      <tal:tile repeat="tile tiles">
          <div tal:attributes="data-tile python:view.get_tile_url(tile)" />
      </tal:tile>
    </div>
  </div>
</metal:block>
